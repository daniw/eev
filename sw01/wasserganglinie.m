clc;
clear;
close all;
% Volume data 2014
v = [46.3 45.3 44.2 42.2 41.7 41.7 41.6 41.4 41.4 41.5 42.4 42.1 42.0 43.4 46.6 46.1 46.2 46.1 46.0 46.0 46.3 46.3 46.3 47.6 48.6 47.4 47.4 47.4 46.8 46.1 43.1 42.8 43.0 43.0 43.3 42.7 42.7 44.3 41.6 41.7 42.2 42.5 42.3 42.5 46.1 46.7 46.9 47.0 46.9 47.0 47.0 47.6 47.5 47.3 46.8 46.2 45.0 43.3 44.9 45.6 46.4 45.1 43.2 44.7 46.6 47.3 46.9 46.1 45.0 42.8 45.4 46.6 46.9 46.9 46.9 47.8 50.2 52.0 54.4 55.0 58.5 69.5 75.0 81.0 86.7 83.4 79.2 76.0 72.9 68.6 67.7 67.9 68.1 68.3 68.0 67.8 68.1 72.4 77.7 82.0 85.7 84.9 84.0 84.0 84.2 83.7 77.8 76.8 76.0 75.8 73.6 71.2 70.4 73.1 76.3 79.6 94.1 109 114 114 111 117 133 142 143 137 131 131 129 128 130 137 136 137 136 135 132 126 121 117 117 119 152 174 164 171 173 159 144 139 133 128 124 122 119 121 122 122 123 127 138 150 153 179 172 164 153 144 134 131 130 126 120 120 141 156 163 163 163 164 171 175 176 176 159 146 143 138 173 178 187 229 315 319 314 305 293 235 193 185 226 249 277 277 265 232 213 276 299 309 306 319 319 309 299 288 290 282 257 204 181 177 197 191 188 189 188 185 181 176 148 105 98.1 99.6 101 101 99.9 101 111 122 123 161 161 196 220 210 201 185 170 153 143 138 135 120 115 112 105 94.5 93.3 90.7 87.2 84.5 82.4 81.9 94.4 105 106 106 106 102 92.1 87.3 85.0 82.1 80.4 80.0 79.0 75.1 72.6 69.9 65.2 63.8 59.1 58.0 58.0 57.5 67.2 68.8 68.8 68.9 69.2 70.4 68.0 70.2 88.1 94.0 94.4 93.6 98.2 99.7 99.5 97.5 92.7 90.9 87.1 80.9 77.9 78.7 82.6 100 102 102 100 100 101 106 117 122 120 127 132 132 129 122 114 108 103 96.6 95.0 91.0 90.0 86.0 83.2 79.0 75.9 73.5 71.4 70.0 68.6 66.6 63.9 61.1 60.9 59.0 58.0 56.6 55.7 55.3 53.8 53.0 53.3 55.5 61.1 64.2 63.5 63.4 62.8 63.4 62.9 61.5 58.5 57.6 57.6 57.2 56.5 ];
v_sort = sort(v, 'descend');

figure(1);
subplot(3,1,1);
plot(v);
title('Messwerte');
xlabel('Zeit [Tage]');
ylabel('Abfluss [\frac{m^3}{s}]');
subplot(3,1,2);
plot(v_sort);
title('Messwerte');
xlabel('Zeit [Tage]');
ylabel('Abfluss [\frac{m^3}{s}]');

thres = v_sort(80);
v_sort_lim = v_sort;
v_sort_lim(v_sort_lim > thres) = thres;

subplot(3,1,3);
plot(v_sort_lim);
title('Messwerte');
xlabel('Zeit [Tage]');
ylabel('Abfluss [\frac{m^3}{s}]');

sum(v_sort)
sum(v_sort_lim)
